[mysqld]
default_authentication_plugin = mysql_native_password
character-set-server = utf8mb4
collation-server = utf8mb4_bin

server-id = 1
log-bin = mysql-bin
binlog-format = ROW
log-slave-updates = 1
expire_logs_days = 7
slow_query_log = 1
slow_query_log_file = /var/log/mysql/slow.log
long_query_time = 1.0
log_queries_not_using_indexes = 1
secure-file-priv = /var/lib/mysql-files/
binlog_expire_logs_seconds = 604800
default-time-zone = +08:00
max_allowed_packet = 100M
log_timestamps = SYSTEM
innodb_use_native_aio = 0
tls_version = TLSv1.2,TLSv1.3
sql_mode = STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION

max_connections = 500
wait_timeout = 600
interactive_timeout = 600
innodb_buffer_pool_size = 4G
table_open_cache = 2000

[mysql]
default-character-set = utf8mb4

[mysqld_safe]
log-error = /var/log/mysql/error.log
